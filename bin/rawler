#!/usr/bin/env ruby

require 'rawler'
require File.join(File.dirname(__FILE__), '..', '/vendor/lib-trollop.rb')

opts = Trollop::options do
  version "rawler #{Rawler::VERSION} (c) 2011 Oscar Del Ben"
  banner <<-EOS
Rawler is a command line utility for parsing links on a website

Usage:
      rawler http://example.com [options]

where [options] are:
EOS
  
  opt :username, "HTT Basic Username", :type => :string
  opt :password, "HTT Basic Password", :type => :string
  opt :wait, "Number of seconds to wait betweet requests", :default => 3
end

domain = ARGV.shift

if domain.nil?
  Trollop::die "Domain name is mandatory. Type --help for help"
else
  Trollop::options do
    opt :domain, "Domain address", :type => :string
  end
end

Rawler::Base.new(domain, $stdout, opts).validate

